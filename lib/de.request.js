//  ---------------------------------------------------------------------------------------------------------------  //
//  de.Request
//  ---------------------------------------------------------------------------------------------------------------  //

var url_ = require('url');

//  ---------------------------------------------------------------------------------------------------------------  //

var no = require('nommon');
var de = require('./de.js');

require('./de.common.js');

//  ---------------------------------------------------------------------------------------------------------------  //

de.Request = function(request, query) {
    this.headers = request.headers;
    this.cookies = de.parseCookies(this.headers.cookie || '');

    var url = url_.parse(request.url, true, true);

    this.query = (query) ? no.extend(url.query, query) : url.query;
    this.path = url.pathname;
};

//  ---------------------------------------------------------------------------------------------------------------  //

